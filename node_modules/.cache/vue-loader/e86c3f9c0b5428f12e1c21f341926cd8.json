{"remainingRequest":"/Users/charmony/MyCode/text-to-speech/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/charmony/MyCode/text-to-speech/src/views/Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/charmony/MyCode/text-to-speech/src/views/Home.vue","mtime":1551810149878},{"path":"/Users/charmony/MyCode/text-to-speech/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/charmony/MyCode/text-to-speech/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/charmony/MyCode/text-to-speech/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/charmony/MyCode/text-to-speech/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/charmony/MyCode/text-to-speech/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#player {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  border-radius: 10px;\n  overflow: hidden;\n  width: 100%;\n  height: 99%;\n  background: #fff;\n}\n#player video {\n  min-width: 100%;\n  min-height: 100%;\n  width: auto;\n  height: auto;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%,-50%);\n  filter: blur(30px);\n  position: absolute;\n  border-radius: 10px;\n}\n\n.loader-wrap {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.signal {\n  border: 5px solid #515970;\n  border-radius: 30px;\n  height: 30px;\n  left: 50%;\n  margin: -15px 0 0 -15px;\n  opacity: 0;\n  position: absolute;\n  top: 45%;\n  width: 30px;\n\n  animation: pulsate 1s ease-out;\n  animation-iteration-count: infinite;\n}\n@keyframes pulsate {\n  0% {\n    transform: scale(.1);\n    opacity: 0.0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1.2);\n    opacity: 0;\n  }\n}\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"html\">\n  <div>\n    <div id=\"player\" class=\"app-drag\">\n      <video v-bind:src=\"srcVideo\" autoplay></video>\n    </div>\n\n    <transition name=\"hide\">\n      <main-screen v-show=\"isMainScreeShow\" class=\"app-drag\"></main-screen>\n    </transition>\n\n    <search @searchTrack=\"searchTrack\" :queryTrack=\"searchText\" class=\"no-app-drag\"></search>\n\n    <transition name=\"hide\">\n      <graphics v-show=\"!isLoading\"></graphics>\n    </transition>\n\n    <controls\n      v-show=\"!isMainScreeShow\"\n      @downloadTrack=\"downloadTrack\"\n      @backHistory=\"backHistory\"\n      @nextHistory=\"nextHistory\"\n      class=\"no-app-drag\"\n    ></controls>\n\n    <transition name=\"hide\">\n      <div v-show=\"isLoading\" class=\"loader-wrap\">\n        <div class=\"signal\"></div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script>\n  const YTsearch = require('youtube-search');\n  const youtubedl = require('youtube-dl');\n  const fs = require('fs');\n  const mkdirp = require('mkdirp');\n\n  const Controls = require('./Controls');\n  const Search = require('./Search');\n  const Graphics = require('./Graphics');\n  const MainScreen = require('./MainScreen');\n\n  module.exports = {\n    name: 'player',\n    components: {\n      Controls,\n      Search,\n      Graphics,\n      MainScreen\n    },\n    data() {\n      return {\n        youtubeSearch: {\n          maxResults: 10,\n          key: 'AIzaSyD3Wt5im8JEaFu_oRAlGmAYxA1fHXEo0lQ'\n        },\n        searchText: '',\n        srcVideo: '',\n        currentTrack: 0,\n        isLoading: false,\n        isMainScreeShow: true,\n        savePath: '../saved',\n        history: []\n      }\n    },\n    methods: {\n      searchTrack(req) {\n        if(req === '') return;\n\n        this.isLoading = true;\n        this.isMainScreeShow = false;\n\n        YTsearch(req, this.youtubeSearch, (err, results) => {\n          if(err) throw err;\n          for(let i = 0; i < results.length; i++) {\n            if(results[i].kind === 'youtube#video') {\n              this.setTrackFromId(results[i].id);\n              return;\n            }\n          }\n        });\n      },\n      setTrackFromId(id) {\n        this.track = youtubedl('http://www.youtube.com/watch?v=' + id, ['--format=18'], {cwd: __dirname});\n        this.track.on('info', (info) => {\n          this.isLoading = false;\n\n          this.searchText = info.title;\n          this.srcVideo = info.url;\n          this.trackInfo = info;\n\n          this.currentTrack = this.history.length;\n          this.history.push(info);\n        });\n      },\n      setTrackFromObject(obj) {\n        this.trackInfo = obj;\n        this.searchText = obj.title;\n        this.srcVideo = obj.url;\n      },\n      downloadTrack() {\n        mkdirp(this.savePath, (err) => {\n          if(err) throw err;\n          this.track.pipe(fs.createWriteStream(this.savePath + '/' + this.trackInfo.title + '.mp4'));\n        });\n      },\n      nextHistory() {\n        if(this.currentTrack <= 0) return;\n        this.setTrackFromObject(this.history[this.currentTrack--]);\n      },\n      backHistory() {\n        if(this.currentTrack >= this.history.length-1) return;\n        this.setTrackFromObject(this.history[this.currentTrack++]);\n      }\n    },\n    mounted() {\n      this.player = document.querySelector('video');\n      this.searchText = 'Enter Track Name';\n    }\n  }\n</script>\n\n<style lang=\"css\">\n  #player {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    border-radius: 10px;\n    overflow: hidden;\n    width: 100%;\n    height: 99%;\n    background: #fff;\n  }\n  #player video {\n    min-width: 100%;\n    min-height: 100%;\n    width: auto;\n    height: auto;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n    filter: blur(30px);\n    position: absolute;\n    border-radius: 10px;\n  }\n\n  .loader-wrap {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n  }\n\n  .signal {\n    border: 5px solid #515970;\n    border-radius: 30px;\n    height: 30px;\n    left: 50%;\n    margin: -15px 0 0 -15px;\n    opacity: 0;\n    position: absolute;\n    top: 45%;\n    width: 30px;\n\n    animation: pulsate 1s ease-out;\n    animation-iteration-count: infinite;\n  }\n  @keyframes pulsate {\n    0% {\n      transform: scale(.1);\n      opacity: 0.0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      transform: scale(1.2);\n      opacity: 0;\n    }\n  }\n</style>\n"]}]}